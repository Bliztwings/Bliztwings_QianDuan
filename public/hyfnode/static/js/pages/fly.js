!function(t){t.fly=function(e,n){var i={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:t.noop},o=this,a=t(e);o.init=function(t){this.setOptions(t),!!this.settings.autoPlay&&this.play()},o.setOptions=function(e){this.settings=t.extend(!0,{},i,e);var n=this.settings,o=n.start,h=n.end;a.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=h.width&&null!=h.height&&t.extend(!0,o,{width:a.width(),height:a.height()});var s=Math.min(o.top,h.top)-Math.abs(o.left-h.left)/3;s<n.vertex_Rtop&&(s=Math.min(n.vertex_Rtop,Math.min(o.top,h.top)));var r=Math.sqrt(Math.pow(o.top-h.top,2)+Math.pow(o.left-h.left,2)),p=Math.ceil(Math.min(Math.max(Math.log(r)/.05-75,30),100)/n.speed),l=o.top==s?0:-Math.sqrt((h.top-s)/(o.top-s)),m=(l*o.left-h.left)/(l-1),w=h.left==m?0:(h.top-s)/Math.pow(h.left-m,2);t.extend(!0,n,{count:-1,steps:p,vertex_left:m,vertex_top:s,curvature:w})},o.play=function(){this.move()},o.move=function(){var e=this.settings,n=e.start,i=e.count,o=e.steps,h=e.end,s=n.left+(h.left-n.left)*i/o,r=0==e.curvature?n.top+(h.top-n.top)*i/o:e.curvature*Math.pow(s-e.vertex_left,2)+e.vertex_top;if(null!=h.width&&null!=h.height){var p=o/2,l=h.width-(h.width-n.width)*Math.cos(i<p?0:(i-p)/(o-p)*Math.PI/2),m=h.height-(h.height-n.height)*Math.cos(i<p?0:(i-p)/(o-p)*Math.PI/2);a.css({width:l+"px",height:m+"px","font-size":Math.min(l,m)+"px"})}a.css({left:s+"px",top:r+"px"}),e.count++;var w=window.requestAnimationFrame(t.proxy(this.move,this));i==o&&(window.cancelAnimationFrame(w),e.onEnd.apply(this))},o.destroy=function(){a.remove()},o.init(n)},t.fn.fly=function(e){return this.each(function(){void 0==t(this).data("fly")&&t(this).data("fly",new t.fly(this,e))})}}(Zepto),function(){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),o=Math.max(0,16-(i-t)),a=window.setTimeout(function(){e(i+o)},o);return t=i+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();