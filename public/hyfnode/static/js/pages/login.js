function binding(){return!!chkMobile()&&(""==$code.val()?(showTip("请输入验证码"),!1):void confirmBinding())}function chkMobile(){var i=$.trim($tel.val());return""==i?(showTip("请输入手机号"),!1):!!/^1[3-8]\d{9}$/.test(i)||(showTip("请填写正确的手机号"),!1)}function confirmBinding(){$(".loader").show();var i={username:$tel.val(),password:$code.val()};$bindBtn.attr("class","btn-public select"),$.post("/hyfnode/base/login",i,function(i){$(".loader").hide(),200==i.code?showTip(i.data.message,getQueryString("service")||"/hyfnode/"):201==i.code&&($bindBtn.attr("class","btn-public"),$bindBtn.prop("disabled",!1),showTip(i.message.message))},"json")}function closeConfirmTip(){return smsFlag=!0,$confirmTip.hide(),!1}function showTip(i,n){i=i||"出错啦，请稍后再试～",$("#tip-mes").html(i),n?($tipBox.show().delay(2e3).hide(0),setTimeout(function(){window.location.href=n},1e3)):$tipBox.show().delay(2e3).hide(0)}function getQueryString(i){var n=new RegExp("(^|&)"+i+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(n);return null!=e?unescape(e[2]):null}var $tel=$("#tel"),$code=$("#code"),$bindBtn=$("#bind-btn"),$tipBox=$("#tip-box");$(document).ready(function(){$bindBtn.on("click",binding)});